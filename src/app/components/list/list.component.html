<!--uso del pipe async para la conversi칩n de persons$, si no est치 listo muestra el spinner de loading-->
<div class="main-container" *ngIf="persons$ | async as persons; else loading">
  <h1>Lista encuestados</h1>
  <div class="panel-group" *ngFor="let person of persons"> <!--iteraci칩n de los datos en el observable para que se impriman en su totalidad-->
    <div class="card ">
      <!--Import de los datos de cada person impresos en tarjetas-->
      <div class="card-header">
        <h4 class="panel-title">
          <a data-toggle="collapse" href="#{{person.id}}">{{person.name}}</a>
        </h4>
      </div>
      <div id="{{person.id}}" class="panel-collapse collapse">
        <li class="list-group-item">Email: {{person.email}}</li>
        <li class="list-group-item">Telefono: {{person.number}}</li>
        <li class="list-group-item">Comida Favorita: {{person.favoriteFood}}</li>
        <li class="list-group-item">Artista Favorito: {{person.favoriteArtist}}</li>
        <li class="list-group-item">Lugar Favorito: {{person.favoritePlace}}</li>
        <!--boton para editar los datos del registro y comenzar el dialogo con la vista update-->
        <button class="btn btn-primary btn-lg btn-block" (click)="onEditPerson(person)">Editar</button>
      </div>
    </div>



<!--Loading para animaci칩n mientras cargan los datos-->
<ng-template #loading>
  <div class="container-spinner">
    <mat-spinner></mat-spinner>
  </div>
</ng-template>
